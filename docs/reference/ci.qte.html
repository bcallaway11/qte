<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>ci.qte — ci.qte • qte</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/sandstone/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="ci.qte — ci.qte"><meta property="og:description" content="The ci.qtet method implements estimates the Quantile
Treatment Effect (QTE) under a Conditional Independence
Assumption (sometimes this is called Selection on Observables) developed
in Firpo (2007).  This method using propensity score re-weighting
and minimizes a check function to compute the QTET.  Standard errors
(if requested) are computed using the bootstrap."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qte</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../articles/index.html">User Guides</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>ci.qte</h1>
    
    <div class="hidden name"><code>ci.qte.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The <code>ci.qtet</code> method implements estimates the Quantile
Treatment Effect (QTE) under a Conditional Independence
Assumption (sometimes this is called Selection on Observables) developed
in Firpo (2007).  This method using propensity score re-weighting
and minimizes a check function to compute the QTET.  Standard errors
(if requested) are computed using the bootstrap.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">ci.qte</span><span class="op">(</span></span>
<span>  <span class="va">formla</span>,</span>
<span>  xformla <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  x <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  <span class="va">data</span>,</span>
<span>  w <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.95</span>, <span class="fl">0.05</span><span class="op">)</span>,</span>
<span>  se <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  iters <span class="op">=</span> <span class="fl">100</span>,</span>
<span>  alp <span class="op">=</span> <span class="fl">0.05</span>,</span>
<span>  method <span class="op">=</span> <span class="st">"logit"</span>,</span>
<span>  retEachIter <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  printIter <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  pl <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  cores <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>formla</dt>
<dd><p>The formula y ~ d where y is the outcome and d is the
treatment indicator (d should be binary), d should be equal to one
in all time periods for individuals that are eventually treated</p></dd>


<dt>xformla</dt>
<dd><p>A optional one sided formula for additional covariates that
will be adjusted for.  E.g ~ age + education.  Additional covariates can
also be passed by name using the x paramater.</p></dd>


<dt>x</dt>
<dd><p>Vector of covariates.  Default is no covariates</p></dd>


<dt>data</dt>
<dd><p>A data.frame containing all the variables used</p></dd>


<dt>w</dt>
<dd><p>an additional vector of sampling weights</p></dd>


<dt>probs</dt>
<dd><p>A vector of values between 0 and 1 to compute the QTET at</p></dd>


<dt>se</dt>
<dd><p>Boolean whether or not to compute standard errors</p></dd>


<dt>iters</dt>
<dd><p>The number of iterations to compute bootstrap standard errors.
This is only used if se=TRUE</p></dd>


<dt>alp</dt>
<dd><p>The significance level used for constructing bootstrap
confidence intervals</p></dd>


<dt>method</dt>
<dd><p>Method to compute propensity score.  Default is logit; other
option is probit.</p></dd>


<dt>retEachIter</dt>
<dd><p>Boolean whether or not to return list of results
from each iteration of the bootstrap procedure (default is FALSE).
This is potentially useful for debugging but can cause errors due
to running out of memory.</p></dd>


<dt>printIter</dt>
<dd><p>For debugging only; should leave at default FALSE unless
you want to see a lot of output</p></dd>


<dt>pl</dt>
<dd><p>boolean for whether or not to compute bootstrap error in parallel.
Note that computing standard errors in parallel is a new feature and may
not work at all on Windows.</p></dd>


<dt>cores</dt>
<dd><p>the number of cores to use if bootstrap standard errors are
computed in parallel</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>QTE object</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Firpo, Sergio.   ``Efficient Semiparametric Estimation of Quantile Treatment
Effects.'' Econometrica 75.1, pp. 259-276, 2015.</p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="co">## Load the data</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">lalonde</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##Estimate the QTET of participating in the job training program;</span></span></span>
<span class="r-in"><span><span class="co">##This is the no covariate case.  Note: Because individuals that participate</span></span></span>
<span class="r-in"><span><span class="co">## in the job training program are likely to be much different than</span></span></span>
<span class="r-in"><span><span class="co">## individuals that do not (e.g. less experience and less education), this</span></span></span>
<span class="r-in"><span><span class="co">## method is likely to perform poorly at estimating the true QTET</span></span></span>
<span class="r-in"><span><span class="va">q1</span> <span class="op">&lt;-</span> <span class="fu">ci.qte</span><span class="op">(</span><span class="va">re78</span> <span class="op">~</span> <span class="va">treat</span>, x<span class="op">=</span><span class="cn">NULL</span>, data<span class="op">=</span><span class="va">lalonde.psid</span>, se<span class="op">=</span><span class="cn">FALSE</span>,</span></span>
<span class="r-in"><span> probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.05</span>,<span class="fl">0.95</span>,<span class="fl">0.05</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">q1</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Quantile Treatment Effect:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau	QTE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.05	     0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1	     0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.15	 -4433.18</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2	 -8866.36</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.25	-11041.04</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.3	-12369.66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.35	-13783.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.4	-15404.99</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.45	-15747.89</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.5	-16455.86</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.55	-17414.16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.6	-18013.27</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.65	-18402.10</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.7	-19172.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.75	-19911.53</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.8	-20845.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.85	-22759.66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.9	-23838.99</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.95	-27321.67</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Average Treatment Effect:	-15204.78</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">##This estimation controls for all the available background characteristics.</span></span></span>
<span class="r-in"><span><span class="va">q2</span> <span class="op">&lt;-</span> <span class="fu">ci.qte</span><span class="op">(</span><span class="va">re78</span> <span class="op">~</span> <span class="va">treat</span>,</span></span>
<span class="r-in"><span> xformla<span class="op">=</span><span class="op">~</span><span class="va">age</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/AsIs.html" class="external-link">I</a></span><span class="op">(</span><span class="va">age</span><span class="op">^</span><span class="fl">2</span><span class="op">)</span> <span class="op">+</span> <span class="va">education</span> <span class="op">+</span> <span class="va">black</span> <span class="op">+</span> <span class="va">hispanic</span> <span class="op">+</span> <span class="va">married</span> <span class="op">+</span> <span class="va">nodegree</span>,</span></span>
<span class="r-in"><span> data<span class="op">=</span><span class="va">lalonde.psid</span>, se<span class="op">=</span><span class="cn">FALSE</span>, probs<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/seq.html" class="external-link">seq</a></span><span class="op">(</span><span class="fl">0.05</span>, <span class="fl">0.95</span>, <span class="fl">0.05</span><span class="op">)</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/summary.html" class="external-link">summary</a></span><span class="op">(</span><span class="va">q2</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Quantile Treatment Effect:</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 		</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> tau	QTE</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.05	     0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.1	     0.00</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.15	 -2955.45</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.2	 -7536.40</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.25	 -8754.13</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.3	 -9748.07</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.35	-10792.62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.4	-11588.75</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.45	-12583.22</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.5	-13667.88</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.55	-13681.66</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.6	-13550.83</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.65	-12703.25</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.7	-14180.98</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.75	-16545.34</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.8	-18614.16</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.85	-20820.21</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.9	-25253.39</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 0.95	-29856.92</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Average Treatment Effect:	-13194.78</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by <a href="https://bcallaway11.github.io/" class="external-link">Brantly Callaway</a>.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer></div>

  


  

  </body></html>

