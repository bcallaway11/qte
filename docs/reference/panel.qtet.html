<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>panel.qtet — panel.qtet • qte</title>

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- sticky kit -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



<meta property="og:title" content="panel.qtet — panel.qtet" />

<meta property="og:description" content="panel.qtet computes the Quantile Treatment Effect
on the Treated (QTET) using the method of Callaway and Li (2015).  This
method should be used when the researcher wants to invoke a Difference
in Differences assumption to identify the QTET.  Relative to the other
Difference in Differences methods available in the qte package,
this method's assumptions are more intuitively similar to the identifying
assumptions used in identifying the Average Treatment Effect on the Treated
(ATT).
Additionally, this method can accommodate covariates in a more
flexible way than the other Difference in Differences methods available.
In order to accommodate covariates, the user should specify a vector x
of covariate names.  The user also may specify a method for estimating
the propensity score.  The default is logit.
panel.qtet can only be used in some situations, however.  The
method requires three periods of panel data where individuals
are not treated until the last period.  The data should be formatted
as a panel; the names of columns containing time periods and ids
for each cross sectional unit need to be passed to the method." />
<meta name="twitter:card" content="summary" />



<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->


  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">qte</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/R-QTEs.html">Quantile Treatment Effects in R: The qte Package</a>
    </li>
    <li>
      <a href="../articles/ddid2.html">ddid2</a>
    </li>
    <li>
      <a href="../articles/panel-qtet.html">panel.qtet</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      
      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>panel.qtet</h1>
    
    <div class="hidden name"><code>panel.qtet.Rd</code></div>
    </div>

    <div class="ref-description">
    
    <p><code>panel.qtet</code> computes the Quantile Treatment Effect
on the Treated (QTET) using the method of Callaway and Li (2015).  This
method should be used when the researcher wants to invoke a Difference
in Differences assumption to identify the QTET.  Relative to the other
Difference in Differences methods available in the <code>qte</code> package,
this method's assumptions are more intuitively similar to the identifying
assumptions used in identifying the Average Treatment Effect on the Treated
(ATT).</p>
<p>Additionally, this method can accommodate covariates in a more
flexible way than the other Difference in Differences methods available.
In order to accommodate covariates, the user should specify a vector <code>x</code>
of covariate names.  The user also may specify a method for estimating
the propensity score.  The default is logit.</p>
<p><code>panel.qtet</code> can only be used in some situations, however.  The
method requires three periods of panel data where individuals
are not treated until the last period.  The data should be formatted
as a panel; the names of columns containing time periods and ids
for each cross sectional unit need to be passed to the method.</p>
    
    </div>

    <pre class="usage"><span class='fu'>panel.qtet</span>(<span class='no'>formla</span>, <span class='kw'>xformla</span> <span class='kw'>=</span> <span class='kw'>NULL</span>, <span class='no'>t</span>, <span class='no'>tmin1</span>, <span class='no'>tmin2</span>, <span class='no'>tname</span>, <span class='kw'>x</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>data</span>, <span class='kw'>dropalwaystreated</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='no'>idname</span>, <span class='kw'>probs</span> <span class='kw'>=</span> <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0.05</span>, <span class='fl'>0.95</span>,
  <span class='fl'>0.05</span>), <span class='kw'>iters</span> <span class='kw'>=</span> <span class='fl'>100</span>, <span class='kw'>alp</span> <span class='kw'>=</span> <span class='fl'>0.05</span>, <span class='kw'>method</span> <span class='kw'>=</span> <span class='st'>"logit"</span>, <span class='kw'>plot</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>se</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>, <span class='kw'>retEachIter</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>, <span class='kw'>seedvec</span> <span class='kw'>=</span> <span class='kw'>NULL</span>)</pre>
    
    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>formla</th>
      <td><p>The formula y ~ d where y is the outcome and d is the
treatment indicator (d should be binary)</p></td>
    </tr>
    <tr>
      <th>xformla</th>
      <td><p>A optional one sided formula for additional covariates that
will be adjusted for.  E.g ~ age + education.  Additional covariates can
also be passed by name using the x paramater.</p></td>
    </tr>
    <tr>
      <th>t</th>
      <td><p>The 3rd time period in the sample (this is the name of the column)</p></td>
    </tr>
    <tr>
      <th>tmin1</th>
      <td><p>The 2nd time period in the sample (this is the name of the
column)</p></td>
    </tr>
    <tr>
      <th>tmin2</th>
      <td><p>The 1st time period in the sample (this is the name of the
column)</p></td>
    </tr>
    <tr>
      <th>tname</th>
      <td><p>The name of the column containing the time periods</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>An optional vector of covariates (the name of the columns).
Covariates can also be passed in formulat notation using the
xformla paramter.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>The name of the data.frame that contains the data</p></td>
    </tr>
    <tr>
      <th>dropalwaystreated</th>
      <td><p>How to handle always treated observations
in panel data case (not currently used)</p></td>
    </tr>
    <tr>
      <th>idname</th>
      <td><p>The individual (cross-sectional unit) id name</p></td>
    </tr>
    <tr>
      <th>probs</th>
      <td><p>A vector of values between 0 and 1 to compute the QTET at</p></td>
    </tr>
    <tr>
      <th>iters</th>
      <td><p>The number of iterations to compute bootstrap standard errors.
This is only used if se=TRUE</p></td>
    </tr>
    <tr>
      <th>alp</th>
      <td><p>The significance level used for constructing bootstrap
confidence intervals</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>The method for estimating the propensity score when covariates
are included</p></td>
    </tr>
    <tr>
      <th>plot</th>
      <td><p>Boolean whether or not the estimated QTET should be plotted</p></td>
    </tr>
    <tr>
      <th>se</th>
      <td><p>Boolean whether or not to compute standard errors</p></td>
    </tr>
    <tr>
      <th>retEachIter</th>
      <td><p>Boolean whether or not to return list of results
from each iteration of the bootstrap procedure</p></td>
    </tr>
    <tr>
      <th>seedvec</th>
      <td><p>Optional value to set random seed; can possibly be used
in conjunction with bootstrapping standard errors.</p></td>
    </tr>
    </table>
    
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p><code>QTE</code> object</p>
    
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Callaway, Brantly and Tong Li.  ``Quantile Treatment Effects in Difference
 in Differences Models with Panel Data.'' Working Paper, 2015.</p>
    

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>##load the data</span>
<span class='fu'><a href='https://www.rdocumentation.org/packages/utils/topics/data'>data</a></span>(<span class='no'>lalonde</span>)

<span class='co'>## Run the panel.qtet method on the experimental data with no covariates</span>
<span class='no'>pq1</span> <span class='kw'>&lt;-</span> <span class='fu'>panel.qtet</span>(<span class='no'>re</span> ~ <span class='no'>treat</span>, <span class='kw'>t</span><span class='kw'>=</span><span class='fl'>1978</span>, <span class='kw'>tmin1</span><span class='kw'>=</span><span class='fl'>1975</span>, <span class='kw'>tmin2</span><span class='kw'>=</span><span class='fl'>1974</span>, <span class='kw'>tname</span><span class='kw'>=</span><span class='st'>"year"</span>,
 <span class='kw'>x</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>lalonde.exp.panel</span>, <span class='kw'>idname</span><span class='kw'>=</span><span class='st'>"id"</span>, <span class='kw'>se</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
 <span class='kw'>probs</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0.05</span>, <span class='fl'>0.95</span>, <span class='fl'>0.05</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>pq1</span>)</div><div class='output co'>#&gt; 
#&gt; Quantile Treatment Effect:
#&gt; 		
#&gt; tau	QTE
#&gt; 0.05	-1632.35
#&gt; 0.1	-2298.01
#&gt; 0.15	-3413.76
#&gt; 0.2	-8616.01
#&gt; 0.25	-8130.78
#&gt; 0.3	-7672.96
#&gt; 0.35	-7110.02
#&gt; 0.4	-6278.18
#&gt; 0.45	-5200.26
#&gt; 0.5	-4383.70
#&gt; 0.55	-3585.33
#&gt; 0.6	-2422.61
#&gt; 0.65	-1188.12
#&gt; 0.7	 -451.94
#&gt; 0.75	 1026.99
#&gt; 0.8	  894.78
#&gt; 0.85	 1251.89
#&gt; 0.9	 1119.72
#&gt; 0.95	 2808.86
#&gt; 
#&gt; Average Treatment Effect:	1529.20</div><div class='input'>
<span class='co'>## Run the panel.qtet method on the observational data with no covariates</span>
<span class='no'>pq2</span> <span class='kw'>&lt;-</span> <span class='fu'>panel.qtet</span>(<span class='no'>re</span> ~ <span class='no'>treat</span>, <span class='kw'>t</span><span class='kw'>=</span><span class='fl'>1978</span>, <span class='kw'>tmin1</span><span class='kw'>=</span><span class='fl'>1975</span>, <span class='kw'>tmin2</span><span class='kw'>=</span><span class='fl'>1974</span>, <span class='kw'>tname</span><span class='kw'>=</span><span class='st'>"year"</span>,
 <span class='kw'>x</span><span class='kw'>=</span><span class='kw'>NULL</span>, <span class='kw'>data</span><span class='kw'>=</span><span class='no'>lalonde.psid.panel</span>, <span class='kw'>idname</span><span class='kw'>=</span><span class='st'>"id"</span>, <span class='kw'>se</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
 <span class='kw'>probs</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0.05</span>, <span class='fl'>0.95</span>, <span class='fl'>0.05</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>pq2</span>)</div><div class='output co'>#&gt; 
#&gt; Quantile Treatment Effect:
#&gt; 		
#&gt; tau	QTE
#&gt; 0.05	 4779.21
#&gt; 0.1	 1987.35
#&gt; 0.15	  842.95
#&gt; 0.2	-7366.04
#&gt; 0.25	-8449.96
#&gt; 0.3	-7992.15
#&gt; 0.35	-7429.21
#&gt; 0.4	-6597.37
#&gt; 0.45	-5519.45
#&gt; 0.5	-4702.88
#&gt; 0.55	-3904.52
#&gt; 0.6	-2741.80
#&gt; 0.65	-1507.31
#&gt; 0.7	 -771.12
#&gt; 0.75	  707.81
#&gt; 0.8	  580.00
#&gt; 0.85	  821.75
#&gt; 0.9	 -250.77
#&gt; 0.95	-1874.54
#&gt; 
#&gt; Average Treatment Effect:	2326.51</div><div class='input'>
<span class='co'>## Run the panel.qtet method on the observational data conditioning on</span>
<span class='co'>## age, education, black, hispanic, married, and nodegree.</span>
<span class='co'>## The propensity score will be estimated using the default logit method.</span>
<span class='no'>pq3</span> <span class='kw'>&lt;-</span> <span class='fu'>panel.qtet</span>(<span class='no'>re</span> ~ <span class='no'>treat</span>, <span class='kw'>t</span><span class='kw'>=</span><span class='fl'>1978</span>, <span class='kw'>tmin1</span><span class='kw'>=</span><span class='fl'>1975</span>, <span class='kw'>tmin2</span><span class='kw'>=</span><span class='fl'>1974</span>, <span class='kw'>tname</span><span class='kw'>=</span><span class='st'>"year"</span>,
 <span class='kw'>xformla</span><span class='kw'>=</span>~<span class='no'>age</span> + <span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/AsIs'>I</a></span>(<span class='no'>age</span>^<span class='fl'>2</span>) + <span class='no'>education</span> + <span class='no'>black</span> + <span class='no'>hispanic</span> + <span class='no'>married</span> + <span class='no'>nodegree</span>,
 <span class='kw'>data</span><span class='kw'>=</span><span class='no'>lalonde.psid.panel</span>, <span class='kw'>idname</span><span class='kw'>=</span><span class='st'>"id"</span>, <span class='kw'>se</span><span class='kw'>=</span><span class='fl'>FALSE</span>,
 <span class='kw'>probs</span><span class='kw'>=</span><span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/seq'>seq</a></span>(<span class='fl'>0.05</span>, <span class='fl'>0.95</span>, <span class='fl'>0.05</span>))
<span class='fu'><a href='https://www.rdocumentation.org/packages/base/topics/summary'>summary</a></span>(<span class='no'>pq3</span>)</div><div class='output co'>#&gt; 
#&gt; Quantile Treatment Effect:
#&gt; 		
#&gt; tau	QTE
#&gt; 0.05	 2953.75
#&gt; 0.1	 1762.13
#&gt; 0.15	  630.91
#&gt; 0.2	-7254.06
#&gt; 0.25	-6768.83
#&gt; 0.3	-6311.01
#&gt; 0.35	-5748.07
#&gt; 0.4	-4916.23
#&gt; 0.45	-3838.31
#&gt; 0.5	-3021.75
#&gt; 0.55	-2223.38
#&gt; 0.6	-1060.66
#&gt; 0.65	  173.83
#&gt; 0.7	  910.01
#&gt; 0.75	 2388.94
#&gt; 0.8	 2526.64
#&gt; 0.85	 2949.64
#&gt; 0.9	 1629.48
#&gt; 0.95	 3160.67
#&gt; 
#&gt; Average Treatment Effect:	2960.76</div><div class='input'>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      
      <li><a href="#value">Value</a></li>

      <li><a href="#references">References</a></li>
      
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>

      <footer>
      <div class="copyright">
  <p>Developed by Brantly Callaway.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
   </div>

  

  </body>
</html>

